<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Key Detection</title>
    <script
      type="text/javascript"
      src="https://www.cornify.com/js/cornify.js"
    ></script>
  </head>
  <body>
    <script>
      let konamiCode = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];
      let pressedKeys = [];

      const keyDetection = (e) => {
        pressedKeys.push(e.keyCode);
        // return JSON.stringify(konamiCode) == JSON.stringify(pressedKeys);

        if (konamiCode === pressedKeys) return true;
        if (konamiCode == null || pressedKeys == null) return false;
        if (konamiCode.length !== pressedKeys.length) return false;

        for (var i = 0; i < konamiCode.length; ++i) {
          if (konamiCode[i] !== pressedKeys[i]) {
            return false;
          } else {
            console.log("konami");
          }
        }
        return true;
      };

      window.onkeyup = keyDetection;
    </script>
  </body>
</html>
